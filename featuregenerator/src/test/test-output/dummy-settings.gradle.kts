plugins {
    // Ensure you've also updated the following places to keep things in sync.
    // - buildSrc/buildSrc.gradle.kts
    // - settings.gradle.kts
    // - featuregenerator/src/test/test-output/dummy-settings.gradle.kts (this file)
    id("com.gradle.enterprise") version "3.8.1"
}

rootProject.name = "mobile-one"

apply(from = File(settingsDir, "gradle/buildCacheSettings.gradle.kts"))

include(
    ":amex-lint",
    ":amex-lintlib",
    ":amex-test",
    ":app",
    ":atsl-extras",
    ":busybee-android-extensions",
    ":dagger-annotations",
    ":detekt-rules",
    ":dev-drawer-debug",
    ":domain:core-api",
    ":domain:core-model",
    ":domain:core-session",
    ":domain:data-sources",
    ":domain:data-sources-android",
    ":espresso-sugar",
    ":espresso-sugar-extended",
    ":event",
    ":fake-permissions",
    ":feature:agent-enrollment:core",
    ":feature:agent-enrollment:enrollment-manager",
    ":feature:agent-enrollment:networking",
    ":feature:agent-enrollment:test-support",
    ":feature:amex-pay",
    ":feature:amex-pay:libs:hceclient-newton-debug",
    ":feature:amex-pay:libs:hceclient-newton-release",
    ":feature:amex-pay:libs:hceclientnativesc-amexsc_arm_dev-debug",
    ":feature:amex-pay:libs:hceclientnativesc-amexsc_arm_prod-debug",
    ":feature:amex-pay:libs:hceclientnativesc-amexsc_arm_prod-release",
    ":feature:amex-pay:libs:hceclientsc-amexsc_arm_dev-debug",
    ":feature:amex-pay:libs:hceclientsc-amexsc_arm_prod-release",
    ":feature:amex-pay:libs:hceclientsc-amexsc_arm_x86_dev-debug",
    ":feature:amex-pay:libs:paymentframework-newton-debug",
    ":feature:amex-pay:libs:paymentframework-newton-release",
    ":feature:amex-pay:libs:paymentframework-newton-release-debug",
    ":feature:amex-pay:stubs",
    ":feature:ask-amex:askamexui",
    ":feature:ask-amex:m1networking",
    ":feature:ask-amex:mezicore",
    ":feature:ask-amex:meziuicommon",
    ":feature:ask-amex:wiremock-flows",
    ":feature:ask-amex:wiremock-stubs",
    ":feature:auth-n",
    ":feature:benefits",
    ":feature:benefits:benefits-test-support",
    ":feature:biometric-auth",
    ":feature:biometric-auth:test-support",
    ":feature:biometrics-registration:robots",
    ":feature:biometrics-registration:ui",
    ":feature:card-activation",
    ":feature:card-activation-refactor:car-networking",
    ":feature:card-activation-refactor:car-ui",
    ":feature:card-activation-refactor:car-ui:car-test-support",
    ":feature:card-activation:card-activation-test-support",
    ":feature:card-freeze",
    ":feature:card-freeze:card-freeze-test-support",
    ":feature:card-switcher",
    ":feature:cardreplacement",
    ":feature:cardreplacement:cardreplacement-test-support",
    ":feature:check-spending-power",
    ":feature:check-spending-power:csp-test-support",
    ":feature:personal-checking:personal-checking-ui",
    ":feature:personal-checking:personal-checking-networking",
    ":feature:personal-checking:personal-checking-test-support",
    ":feature:credit-line-increase",
    ":feature:credit-line-increase:robots",
    ":feature:debug-selector",
    ":feature:deeplink-transaction-handler",
    ":feature:deeplinking",
    ":feature:default-card",
    ":feature:default-card:default-card-test-support",
    ":feature:digital-charge-verification",
    ":feature:dining",
    ":feature:direct-debit",
    ":feature:direct-debit:direct-debit-test-data",
    ":feature:disputes",
    ":feature:disputes:disputes-test-support",
    ":feature:edit-address",
    ":feature:edit-address:edit-address-test-support",
    ":feature:edit-email",
    ":feature:edit-email:edit-email-test-support",
    ":feature:edit-name",
    ":feature:edit-name:edit-name-test-support",
    ":feature:edit-phone",
    ":feature:edit-phone:edit-phone-test-support",
    ":feature:error-retry",
    ":feature:explore-local",
    ":feature:explore-local:explore-local-test-support",
    ":feature:feature-intros",
    ":feature:feature-intros:display-logic",
    ":feature:feature-intros:model",
    ":feature:feature-intros:notifications",
    ":feature:financials",
    ":feature:global-autopay",
    ":feature:global-autopay:global-autopay-test-support",
    ":feature:help",
    ":feature:help:help-test-support",
    ":feature:income-capture",
    ":feature:income-capture:income-capture-test-support",
    ":feature:know-your-customer",
    ":feature:know-your-customer:know-your-customer-test-support",
    ":feature:language-selection",
    ":feature:loading",
    ":feature:loading:loading-test-support",
    ":feature:login",
    ":feature:login:login-networking",
    ":feature:login:session-manager",
    ":feature:login:shared-test-data",
    ":feature:lounge-finder",
    ":feature:lounge-finder:lounge-finder-test-data",
    ":feature:lounge-finder:lounge-finder-test-support",
    ":feature:lounge-finder:lounge-finder-resources",
    ":feature:lounge-finder-v2",
    ":feature:lounge-finder-v2:lounge-finder-v2-test-support",
    ":feature:main-tab",
    ":feature:member-get-member",
    ":feature:membership",
    ":feature:membership:membership-networking",
    ":feature:membership:membership-test-support",
    ":feature:messaging:models",
    ":feature:mfa-two-step-verification",
    ":feature:mfa-two-step-verification:networking",
    ":feature:mfa-two-step-verification:test-support",
    ":feature:mobile-credit-center",
    ":feature:mobile-credit-center:mobile-credit-center-test-support",
    ":feature:step-up:networking",
    ":feature:step-up:test-data",
    ":feature:step-up:test-support",
    ":feature:step-up:ui",
    ":feature:oauth-grant",
    ":feature:offers",
    ":feature:offers:offers-test-support",
    ":feature:one-time-passcode:otp-networking",
    ":feature:one-time-passcode:otp-robots",
    ":feature:one-time-passcode:otp-ui",
    ":feature:paperless",
    ":feature:paperless:paperless-test-support",
    ":feature:paperless",
    ":feature:paperless:paperless-test-support",
    ":feature:pay-over-time",
    ":feature:pay-over-time-v2:pot-v2-robots",
    ":feature:pay-over-time-v2:pot-v2-test-support",
    ":feature:pay-over-time-v2:ui",
    ":feature:pay-over-time:pot-network",
    ":feature:pay-over-time:pot-test-support",
    ":feature:pay-your-way",
    ":feature:payments-options",
    ":feature:payments:payments-networking",
    ":feature:payments:payments-robots",
    ":feature:payments:payments-test-data",
    ":feature:payments:payments-ui",
    ":feature:peer2peer:networking",
    ":feature:peer2peer:send-and-split:robots",
    ":feature:peer2peer:send-and-split:ui",
    ":feature:peer2peer:shared-test-data",
    ":feature:personal-savings",
    ":feature:personal-savings:personal-savings-test-support",
    ":feature:pin-management",
    ":feature:pin-management:choose-pin",
    ":feature:pin-management:choose-pin-refactor",
    ":feature:pin-management:pin-components",
    ":feature:pin-management:pin-explanation",
    ":feature:pin-management:pin-explanation-refactor",
    ":feature:pin-management:pin-management-client",
    ":feature:pin-management:pin-model",
    ":feature:pin-management:tracker",
    ":feature:plan-it-autopay",
    ":feature:planitV2:planit-networking",
    ":feature:planitV2:planit-robots",
    ":feature:planitV2:planit-shared-test-data",
    ":feature:planitV2:planit-ui",
    ":feature:profile",
    ":feature:profile:profile-test-support",
    ":feature:push-notifications",
    ":feature:refer-a-friend-v2",
    ":feature:refer-a-friend-v2:raf-v2-test-support",
    ":feature:refer-a-friend-v2:refer-a-friend-networking",
    ":feature:safekey",
    ":feature:search",
    ":feature:servicing",
    ":feature:statements",
    ":feature:statements:statement-client",
    ":feature:statements:statement-details-common",
    ":feature:statements-v2",
    ":feature:statements:statements-test-support",
    ":feature:supplementary-spend:supplementary-limits-networking",
    ":feature:supplementary-spend:supplementary-spend-limits",
    ":feature:supplementary-spend:supplementary-spend-networking",
    ":feature:supplementary-spend:supplementary-spend-test-data",
    ":feature:supplementary-spend:supplementary-spend-view",
    ":feature:timeline",
    ":feature:timeline:timeline-test-support",
    ":feature:transaction-details",
    ":feature:transaction-details:transactions-test-support",
    ":feature:transaction-search",
    ":feature:transaction-search:transaction-search-test-support",
    ":feature:use-points",
    ":feature:use-points-v2",
    ":feature:use-points-v2:use-points-v2-test-support",
    ":feature:user-registration:userreg-networking",
    ":feature:user-registration:userreg-ui",
    ":feature:user-registration:userreg-ui:userreg-test-support",
    ":java-utilities",
    ":ktworkflow:ktworkflow",
    ":ktworkflow:ktworkflow-android",
    ":ktworkflow:ktworkflow-test",
    ":location-android",
    ":location-permission",
    ":mcp-headers:git-sha-generator",
    ":mcp-headers:mcp-headers-android",
    ":mcp-headers:mcp-headers-jvm",
    ":missile",
    ":model",
    ":model:payment-models",
    ":monitoring:monitoring-definitions",
    ":monitoring:networking",
    ":monitoring:performance",
    ":monitoring:spans",
    ":monitoring:spans-android-extensions",
    ":moshi-dagger",
    ":msl-contract",
    ":ndl-sample-app",
    ":nfc-permission",
    ":partnerships:acquisition",
    ":partnerships:enhanced-deeplinking",
    ":partnerships:enhanced-deeplinking:enhanced-deeplinking-test-support",
    ":partnerships:lounge-access",
    ":partnerships:mta",
    ":partnerships:uber",
    ":permissions",
    ":raml-subtree",
    ":rx-workflow:rxworkflow",
    ":rx-workflow:rxworkflow-all",
    ":rx-workflow:rxworkflow-android",
    ":rx-workflow:rxworkflow-components",
    ":rx-workflow:rxworkflow-ktx",
    ":rx-workflow:rxworkflow-test",
    ":rx-workflow:state-machine",
    ":rx-workflow:state-machine-reactive-ext",
    ":rxcache",
    ":selector:selector-models",
    ":selector:selector-robots",
    ":selector:selector-scenarios",
    ":selector:quick-launch",
    ":shared:account-summary-networking",
    ":shared:analytics",
    ":shared:analytics:analytics-test",
    ":shared:analytics:onestream",
    ":shared:analytics:onestream:onestream-test-support",
    ":shared:android-resources",
    ":shared:android-ui",
    ":shared:android-utils",
    ":shared:build-config",
    ":shared:clock",
    ":shared:common-error-handler",
    ":shared:crashreporter",
    ":shared:crashreporter:api",
    ":shared:crashreporter:test-support",
    ":shared:cross-border",
    ":shared:dagger-support",
    ":shared:densities",
    ":shared:experimental-utils",
    ":shared:external-actions",
    ":shared:faq",
    ":shared:kotlin-utils",
    ":shared:location-settings-dialog-helper",
    ":shared:metrics-feedback",
    ":shared:metrics-feedback:callback",
    ":shared:metrics-feedback:parameters",
    ":shared:money-utils",
    ":shared:moshi",
    ":shared:ndl-components",
    ":shared:ndl-faq",
    ":shared:ndl-maps",
    ":shared:ndl-model",
    ":shared:ndl-v3-core",
    ":shared:optimizely",
    ":shared:phone-number-util",
    ":shared:places-client",
    ":shared:predictivesearch",
    ":shared:push-token",
    ":shared:pzn-tracking-helper",
    ":shared:pzn-tracking-helper:pzn-tracking-helper-test",
    ":shared:recyclerview",
    ":shared:repository",
    ":shared:retrofit",
    ":shared:router",
    ":shared:rx-extensions",
    ":shared:rx-test-support",
    ":shared:rxworkflow-components-android",
    ":shared:ktworkflow-components-android",
    ":shared:skeleton-loader",
    ":shared:sso-customtab",
    ":shared:sso-webview",
    ":shared:storage-utils",
    ":shared:store:store-extensions",
    ":shared:store:store-test-extensions",
    ":shared:stub-responses",
    ":shared:test-rules",
    ":shared:test-runner",
    ":shared:timeline-client",
    ":shared:timeline-client:timeline-actions-test-support",
    ":shared:ui-extensions",
    ":shared:view-test-activity",
    ":shared:view-test-support",
    ":shared:work-manager",
    ":slf4j-android-amex",
    ":sub-modules-tester",
    ":test-data-objects",
    ":test-support",
    ":test-support:dhall-scenario",
    ":test-support:initialization-test-support",
    ":test-support:login-summary-test-support",
    ":test-support:logoff-test-support",
    ":test-support:shared-wiremockflows",
    ":test-support:summary-test-support",
    ":test-support:test-data",
    ":test-support:test-moshi",
    ":wiremock-support"
)

fun renameBuildFile(project: ProjectDescriptor) {
    project.children.forEach { renameBuildFile(it) }

    val buildFileName = "${project.name}.gradle"
    if (file("${project.projectDir}/$buildFileName").exists()) {
        project.buildFileName = buildFileName
    } else {
        project.buildFileName = "$buildFileName.kts"
    }

}

rootProject.children.forEach { renameBuildFile(it) }
